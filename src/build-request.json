{
  "kind": "build_request",
  "title": "Show a kW-specific solar photo and replace site logo with uploaded logo",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Replace the website logo with the user-uploaded logo so that the header and footer display the new logo consistently (including mobile header), without showing the fallback 'GKV' text logo unless the image fails to load.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "jitane kw ka hai utane kw ka photo dikhaye ok mera logo upload kare"
        ]
      },
      "acceptanceCriteria": [
        "The logo rendered in SiteHeader uses the same path as before (currently `/assets/generated/gkv-logo.dim_512x512.png`) but displays the new uploaded logo artwork.",
        "The logo rendered in SiteFooter matches the header logo and is visually consistent.",
        "If the logo image fails to load, the existing fallback UI still appears (no regression)."
      ]
    },
    {
      "id": "REQ-2",
      "text": "On the Solar Calculator page, display a representative solar installation image that automatically matches the calculated system size (kW) so that the user sees 'the photo for that many kW'.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "jitane kw ka hai utane kw ka photo dikhaye"
        ]
      },
      "acceptanceCriteria": [
        "Calculator page shows a kW-matched image near the results (based on `results.systemSizeKW`).",
        "The image selection is deterministic via defined kW ranges (e.g., <=2 kW, 3–5 kW, 6–10 kW, 11–20 kW, >20 kW).",
        "If an image is missing for a range, a safe fallback image is shown and the page layout does not break."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Add the required static image assets under `frontend/public/assets/generated` and wire them into the UI (do not serve generated images via the backend).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "jitane kw ka hai utane kw ka photo dikhaye ok mera logo upload kare"
        ]
      },
      "acceptanceCriteria": [
        "All newly generated images are placed under `frontend/public/assets/generated` and can be loaded by the browser via `/assets/generated/...` paths.",
        "No backend endpoints or storage are introduced for these images."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under `frontend/src/components/ui` (compose existing UI components instead).",
    "Do not modify `frontend/src/hooks/useInternetIdentity.ts(x)`, `frontend/src/hooks/useActor.ts`, or `frontend/src/main.tsx` (immutable paths).",
    "Backend must remain a single Motoko actor in `backend/main.mo`; only add a migration if persistent state changes (not expected for this request)."
  ],
  "nonGoals": [
    "Implementing runtime user logo upload functionality inside the app (this request is handled by replacing the deployed static logo asset using the uploaded file).",
    "Adding new backend storage or admin panels for managing kW images."
  ],
  "imageRequirements": {
    "required": [
      "Rooftop solar installation photo/illustration for small system size (solar-kw-02.dim_1200x600.png)",
      "Rooftop solar installation photo/illustration for medium-small system size (solar-kw-05.dim_1200x600.png)",
      "Rooftop solar installation photo/illustration for medium system size (solar-kw-10.dim_1200x600.png)",
      "Rooftop solar installation photo/illustration for large system size (solar-kw-20.dim_1200x600.png)",
      "Rooftop solar installation photo/illustration for very large system size (solar-kw-50.dim_1200x600.png)"
    ],
    "edits": [
      "Replace existing logo artwork using the uploaded logo (gkv-logo.dim_512x512.png > gkv-logo.dim_512x512.png)"
    ]
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [
      "Use English for user-facing text"
    ],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}